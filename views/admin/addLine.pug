extends layout

block extraHeadersAdmin
    link(rel="stylesheet", href="/css/admin/addLine.css")
    script(src="/js/admin/addLine.js")

block contentAdmin
    form.ui.form(method="post",action="/admin/line/preview")
        h4.ui.dividing.header= langs.titleAddLine
        div.field
            label= langs.labelStart
            select#depart.ui.search.dropdown(name="depart")
                option(value="")= langs.optionStart
        div.field
            label= langs.labelEnd
            select#arrivee.ui.search.dropdown(name="arrivee")
                option(value="")= langs.optionEnd
        if !stops    
            div.field
                button.ui.button= langs.buttonCreateLine
    if stops
        div.ui.bulleted.list
            each stop in stops
                div.item= stop.name 
        form.ui.form(method="post",action="/admin/line/add")
            input(type="hidden",value=stops[0].name,name="departFinal")
            input(type="hidden",value=stops[stops.length-1].name,name="arriveeFinal") 
            div.field
                label= langs.labelZone
                select#zone.ui.search.dropdown(name="zoneFinal")
                    option(value="")= langs.labelZone
            div.field
                button.ui.button= langs.buttonValidate
        
    if lineSuggestions
        h3= "Suggestion"
        div.ui.bulleted.list
            each l in lineSuggestions
                div.item
                    div.right.floated.content
                        button.ui.button.left(onclick="createBySelection('"+l[0]+"','"+l[1]+"')")= "cr√©er"
                    div.content
                        span= l[0] + ' - ' + l[1]
                    
                    
        form#suggestForm(method="post",action="/admin/line/preview")
            input#departFinal(type="hidden",name="depart")
            input#arriveeFinal(type="hidden",name="arrivee")